/*! angular-openaura 2014-11-23 */
!function(a,b){"use strict";var c={};b.module("openaura",[]).value("settings",c).provider("OpenAura",function(){c.apiKey=null,this.setApiKey=function(a){return c.apiKey=a,c.apiKey},this.getApiKey=function(){return c.apiKey},c.version="v1",c.apiBase=["http://api.openaura.com",c.version].join("/"),this.$get=["$q","$http",function(a,d){function e(){this.defaultIdType="oa:artist_id"}return e.prototype.api=function(b,e,f,g,h){var i=a.defer();return f.api_key=f.api_key||c.apiKey,d({url:c.apiBase+b,method:e?e:"GET",params:f,data:g,headers:h}).success(function(a){i.resolve(a)}).error(function(a){i.reject(a)}),i.promise},e.prototype.getArtistSource=function(a,b){var c={};return c.id_type=b||this.defaultIdType,this.api("/source/artists/"+encodeURIComponent(a),"GET",c)},e.prototype.getArtistProviderSource=function(a,b,c){var d={};return d.id_type=c||this.defaultIdType,this.api("/source/artists/"+a+"/providers/"+b,"GET",d)},e.prototype.getSource=function(a,b){var c={};return c.id_type=b||this.defaultIdType,this.api("/source/sources/"+a,"GET",c)},e.prototype.getArtistClassic=function(a,b){var c={};return c.id_type=b||this.defaultIdType,this.api("/classic/artists/"+a,"GET",c)},e.prototype.getArtistParticle=function(a,c){var d={};return c?(c.id_type=c.idType||this.defaultIdType,delete c.idType,b.extend(d,c)):d.id_type=this.defaultIdType,this.api("/particles/artists/"+a,"GET",d)},e.prototype.getParticle=function(a,b){var c={};return c.id_type=b||"oa:particle_id",this.api("/particles/particle/"+a,"GET",c)},e.prototype.getSourceParticle=function(a,b,c){var d={};return d.id_type=b||"oa:source_id",c&&c.offset&&(d.offset=c.offset),c&&c.limit&&(d.limit=c.limit),this.api("/particles/sources/"+a,"GET",d)},e.prototype.getArtistInfo=function(a,c){var d={};return c?(c.id_type=c.idType||"oa:artist_id",delete c.idType,b.extend(d,c)):d.id_type="oa:artist_id",this.api("/info/artists/"+a,"GET",d)},e.prototype.getArtistDelta=function(a){return a||console.warn("pass since_time or seconds_ago paramaters"),this.api("/delta/artist_info","GET",a)},e.prototype.searchArtistParticles=function(a,c){var d={};return d.q=a,c&&b.extend(d,c),this.api("/search/artists","GET",d)},e.prototype.searchAllArtists=function(a,c){var d={};return d.q=a,c&&b.extend(d,c),this.api("/search/artists_all","GET",d)},new e}]})}(window,angular);